{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/dialogs-reducer.ts","components/Login/Login.module.css","api/api.ts","reportWebVitals.ts","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Navbar/NavbarContainer.tsx","components/Navbar/Navbar.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","utils/object-helpers.ts","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/assets/images/user.png","components/common/Paginator/PaginatorLikeDimych.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Login/Login.tsx","redux/sidebar-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","components/common/FormsControl/FormsControl.tsx","components/common/FormsControl/FormsControl.module.css","components/common/Paginator/Paginator.module.css","components/common/Paginator/PaginatorLikeDimych.module.css","components/assets/images/preloader.gif","components/common/Preloader/Preloader.tsx","components/Header/Header.module.css","utils/validators/validator.ts","components/Users/User.module.css","components/common/Preloader/Preloader.module.css","redux/profile-reducer.ts"],"names":["module","exports","SEND_MESSAGE","initialState","dialogs","id","name","avatar","messages","message","my","dialogsReducer","state","action","type","body","sendMessage","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","post","unfollowUser","delete","getProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","News","Music","Settings","NavbarContainer","connect","dialogsPage","sidebar","props","friendsElements","friends","map","f","i","friend","find","d","className","s","src","alt","nav","item","to","activeClassName","activeLink","title","Header","header","isAuth","loginBlock","onClick","SET_AUTH_USER_DATA","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","HeaderContainer","this","React","Component","auth","updateObjectInArray","items","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","users","totalUserCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","Paginator","onPageChanged","useEffect","refs","index","length","ref","current","scrollIntoView","window","scrollTo","pagesCount","Math","ceil","pages","push","createRef","paginator","main","p","page","selectedPage","event","User","user","userPhoto","photos","small","large","followed","disabled","some","unfollow","follow","numOfButtons10","PaginatorLikeDimych","buttonsPage","lastPage","Users","createSelector","usersPage","filter","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","Preloader","compose","bind","totalUsersCount","totalCount","count","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","createField","Input","required","error","s2","formSummaryError","stopSubmit","_error","style","display","border","padding","margin","INITIALIZED_SUCCESS","initialized","reducers","combineReducers","profilePage","profileReducer","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","AppSamuraiJS","ReactDOM","document","getElementById","FormControl","input","meta","touched","hasError","formControl","children","Textarea","restProps","component","placeholder","validate","text","preloaderBlock","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likesCount","profile","newPost","postText","postId","log","addPost","getUserProfile","setStatus","image","getState","errorText","split","fieldName","toLowerCase","substr","reject"],"mappings":"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","file":"static/js/main.9a2c912d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__fuf5Q\",\"item\":\"Navbar_item__oT5rA\",\"activeLink\":\"Navbar_activeLink__2RHqf\",\"friends\":\"Navbar_friends__2jLV8\",\"title\":\"Navbar_title__3XAOj\",\"avatar\":\"Navbar_avatar__3YU0Q\"};","import {ActionsTypes} from './redux-store';\r\n\r\n\r\nexport const SEND_MESSAGE = 'SEND-MESSAGE'\r\n// export const UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY'\r\n\r\ntype DialogsDataType = {\r\n    id: number\r\n    name: string\r\n    avatar: string\r\n}\r\n\r\ntype MessagesDataType = {\r\n    id: number\r\n    message: string\r\n    my: boolean\r\n}\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych', avatar: 'https://image.flaticon.com/icons/png/512/147/147144.png'},\r\n        {\r\n            id: 2,\r\n            name: 'Andrey',\r\n            avatar: 'https://3dtoday.ru/upload/users/avatars/sIN8UsnRj2kXjxP6aU6Qth56TKVsssiXdwYnaXNa.png'\r\n        },\r\n        {id: 3, name: 'Sveta', avatar: 'https://image.flaticon.com/icons/png/512/146/146005.png'},\r\n        {\r\n            id: 4,\r\n            name: 'Sasha',\r\n            avatar: 'https://i.pinimg.com/originals/7c/c7/a6/7cc7a630624d20f7797cb4c8e93c09c1.png'\r\n        },\r\n        {id: 5, name: 'Victor', avatar: 'https://image.flaticon.com/icons/png/512/146/146007.png'},\r\n        {\r\n            id: 6,\r\n            name: 'Valera',\r\n            avatar: 'https://cdn.iconscout.com/icon/free/png-256/astonishes-boy-1129046.png'\r\n        }\r\n    ] as Array<DialogsDataType>,\r\n\r\n    messages: [\r\n        {id: 1, message: 'Hi', my: true},\r\n        {id: 2, message: 'Hello, world!', my: false},\r\n        {id: 3, message: 'Yo', my: true},\r\n        {id: 4, message: 'Yo', my: false},\r\n        {id: 5, message: 'Yo', my: false}\r\n    ] as Array<MessagesDataType>,\r\n\r\n    // newMessageBody: 'New message'\r\n}\r\n\r\nexport type DialogsStateType = typeof initialState\r\n\r\nexport const dialogsReducer = (state: DialogsStateType = initialState, action: ActionsTypes): DialogsStateType => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            // const body = state.newMessageBody\r\n\r\n            return {\r\n                ...state,\r\n                // newMessageBody: '',\r\n                messages: [\r\n                    ...state.messages,\r\n                    // {id: 7, message: body, my: true}\r\n                    {id: 7, message: action.body, my: true}\r\n                ]\r\n            }\r\n\r\n        // case UPDATE_NEW_MESSAGE_BODY:\r\n        //     debugger\r\n        //     return {\r\n        //         ...state,\r\n        //         newMessageBody: action.newText\r\n        //     }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// export const sendMessage = () => {\r\n//     return {\r\n//         type: SEND_MESSAGE\r\n//     } as const\r\n// }\r\nexport const sendMessage = (body:string) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        body,\r\n    } as const\r\n}\r\n\r\n// export const updateNewMessageBody = (text: string) => {\r\n//     return {\r\n//         type: UPDATE_NEW_MESSAGE_BODY,\r\n//         newText: text\r\n//     } as const\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Login_main__pqoeZ\"};","import axios from 'axios';\r\nimport {UserDataType} from '../redux/users-reducer';\r\nimport {ProfileDataType} from '../redux/profile-reducer';\r\nimport {ProfileDataFormType} from '../components/Profile/ProfileInfo/ProfileDataForm';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'ca2d4280-c827-4a30-a630-27fd3baa0cf3',\r\n    },\r\n})\r\n\r\n\r\n//=========================================================================================================\r\n\r\nexport type GetUsersResponseType = {\r\n    items: Array<UserDataType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\ntype ResponseType<T = {}> = {\r\n    data: T\r\n    resultCode: string\r\n    messages: string[]\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10): Promise<GetUsersResponseType> {\r\n        return instance.get<GetUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    followUser(id: number): Promise<ResponseType> {\r\n        return instance.post<ResponseType>(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    unfollowUser(id: number): Promise<ResponseType> {\r\n        return instance.delete<ResponseType>(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n\r\n    getProfile(userId: string): Promise<GetPropfileResponseType> {\r\n        console.warn(`!!! Don't use this method !!! Use profileAPI !!!`)\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n\r\n}\r\n// =============================================================================================\r\n\r\ntype GetPropfileResponseType = ProfileDataType\r\n\r\ntype GetStatusResponseType = string\r\n\r\nexport type PhotoData = {\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string): Promise<GetPropfileResponseType> {\r\n        return instance.get<GetPropfileResponseType>(`profile/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    getStatus(userId: string): Promise<GetStatusResponseType> {\r\n        return instance.get<GetStatusResponseType>(`profile/status/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    updateStatus(status: string): Promise<ResponseType> {\r\n        return instance.put<ResponseType>(`profile/status/`, {status: status})\r\n            .then(response => response.data)\r\n    },\r\n\r\n    savePhoto(photoFile: File): Promise<ResponseType<PhotoData>> {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put<ResponseType<PhotoData>>(`profile/photo/`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(response => response.data)\r\n    },\r\n\r\n    saveProfile(formData: ProfileDataFormType): Promise<ResponseType> {\r\n        return instance.put<ResponseType>(`profile/`, formData)\r\n            .then(response => response.data)\r\n    },\r\n}\r\n\r\n// =============================================================================================\r\n\r\ntype UserData = {\r\n    id: string\r\n    email: string\r\n    login: string\r\n}\r\n\r\ntype UserId = {\r\n    id: string\r\n}\r\n\r\ntype AuthMeResponseType<T = {}> = {\r\n    data: T\r\n    messages: string[]\r\n    fieldsErrors: string[]\r\n    resultCode: string\r\n}\r\n\r\nexport const authAPI = {\r\n    me(): Promise<AuthMeResponseType<UserData>> {\r\n        return instance.get<AuthMeResponseType<UserData>>(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    login(email: string, password: string, rememberMe: boolean = false): Promise<AuthMeResponseType<UserId>> {\r\n        return instance.post<any>(`auth/login`, {email, password, rememberMe})\r\n            .then(response => response.data)\r\n    },\r\n\r\n    logout(): Promise<AuthMeResponseType> {\r\n        return instance.delete<AuthMeResponseType>(`auth/login`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nexport const News = () => {\r\n    return (\r\n        <div>\r\n            <b>News</b>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div>\r\n            <b>Music</b>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nexport const Settings = () => {\r\n    return (\r\n        <div>\r\n            <b>Settings</b>\r\n        </div>\r\n    )\r\n}","import {connect} from 'react-redux';\r\nimport {Navbar} from './Navbar';\r\nimport {StateType} from '../../redux/redux-store';\r\nimport {DialogsStateType} from '../../redux/dialogs-reducer';\r\nimport {SidebarStateType} from '../../redux/sidebar-reducer';\r\n\r\n\r\ntype NavbarMapStateToPropsType = {\r\n    dialogsPage: DialogsStateType\r\n    sidebar: SidebarStateType\r\n}\r\n\r\ntype NavbarMapDispatchToProps = {\r\n}\r\n\r\nexport type NavbarPropsType = NavbarMapStateToPropsType & NavbarMapDispatchToProps\r\n\r\n\r\nconst mapStateToProps = (state: StateType): NavbarMapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        sidebar: state.sidebar\r\n    }\r\n}\r\n\r\n// const mapDispatchToProps = (dispatch: DispatchType): NavbarMapDispatchToProps => {\r\n//     return {}\r\n// }\r\n\r\nexport const NavbarContainer = connect(mapStateToProps, {})(Navbar)\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport { NavbarPropsType } from './NavbarContainer';\r\n\r\n\r\nexport const Navbar = (props: NavbarPropsType) => {\r\n    const friendsElements = props.sidebar.friends.map(\r\n        (f,i) => {\r\n            let friend = props.dialogsPage.dialogs.find(d => d.id === f)\r\n            if (!friend) {\r\n                friend = props.dialogsPage.dialogs[0]\r\n            }\r\n            return (\r\n                <div key={i} className={s.avatar}>\r\n                    <img src={friend.avatar} alt={'avatar'}/>\r\n                    <div>{friend.name}</div>\r\n                </div>\r\n            )\r\n        }\r\n    )\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n\r\n            <div className={s.friends}>\r\n                <div className={s.title}>Friends</div>\r\n\r\n                {friendsElements}\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\ntype HeaderPropsType = {\r\n    // id: string\r\n    // email: string\r\n    login: string\r\n    isAuth: boolean\r\n    // setAuthUserData: (userId: string, login: string, email: string) => void\r\n    logout: () => void\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            {/*<img src=\"http://www.logobook.com/wp-content/uploads/2016/10/birds.svg\"/>*/}\r\n            <img\r\n                src=\"http://vectorlogofree.com/wp-content/uploads/2014/09/53354-bird-handmade-logo-icon-vector-icon-vector-eps.png\"\r\n                alt={'logo'}\r\n            />\r\n\r\n            {props.isAuth\r\n                ?\r\n                <div className={s.loginBlock}>\r\n                    {`${props.login}   `}\r\n                    {/*<NavLink to={'/logout'}>Logout</NavLink>*/}\r\n                    <button onClick={props.logout}>Log out</button>\r\n                </div>\r\n\r\n                :\r\n                <div className={s.loginBlock}>\r\n                    <NavLink to={'/login'}>Login</NavLink>\r\n                </div>\r\n            }\r\n        </header>\r\n    )\r\n}","import {Dispatch} from 'redux';\r\nimport {ActionsTypes, StateType} from './redux-store';\r\nimport {authAPI} from '../api/api';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nexport const SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA'\r\n\r\nexport type AuthStateType = {\r\n    id: string\r\n    login: string\r\n    email: string\r\n    isAuth: boolean\r\n}\r\n\r\nconst initialState: AuthStateType = {\r\n    id: '',\r\n    login: '',\r\n    email: '',\r\n    isAuth: false,\r\n}\r\n\r\n\r\nexport const authReducer = (state: AuthStateType = initialState, action: ActionsTypes): AuthStateType => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                // isAuth: true,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: string, login: string, email: string, isAuth: boolean) => {\r\n    return {\r\n        type: SET_AUTH_USER_DATA,\r\n        payload: {\r\n            id,\r\n            email,\r\n            login,\r\n            isAuth,\r\n        },\r\n    } as const\r\n}\r\n\r\n/*\r\nexport const getAuthUserData = () => {\r\n    return (dispatch: Dispatch) => {\r\n        return authAPI.me().then(data => {\r\n            if (+data.resultCode === 0) {\r\n                const {id, login, email} = data.data\r\n                dispatch(setAuthUserData(id, login, email, true))\r\n            }\r\n        })\r\n    }\r\n}\r\n*/\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    const data = await authAPI.me()\r\n    if (+data.resultCode === 0) {\r\n        const {id, login, email} = data.data\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkAction<void, StateType, unknown, ActionsTypes | ReturnType<typeof stopSubmit>> =>\r\n    async (dispatch) => {\r\n        const data = await authAPI.login(email, password, rememberMe)\r\n        if (+data.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            const message = data.messages ? data.messages[0] : 'Some error!'\r\n            const action = stopSubmit('login', {_error: message})\r\n            dispatch(action)\r\n        }\r\n    }\r\n\r\nexport const logout = (): ThunkAction<void, StateType, unknown, ActionsTypes> => async (dispatch) => {\r\n    const data = await authAPI.logout()\r\n    if (+data.resultCode === 0) {\r\n        dispatch(setAuthUserData('', '', '', false))\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Header} from './Header';\r\nimport {logout} from '../../redux/auth-reducer';\r\nimport {StateType} from '../../redux/redux-store';\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderComponentPropsType> {\r\n    // componentDidMount() {\r\n    //     this.props.getAuthUserData()\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\ntype HeaderMapStateToPropsType = {\r\n    // id: string\r\n    // email: string\r\n    login: string\r\n    isAuth: boolean\r\n}\r\n\r\ntype HeaderMapDispatchToPropsType = {\r\n    // setAuthUserData: (userId: string, login: string, email: string) => void\r\n    // getAuthUserData: () => void\r\n    logout: () => void\r\n}\r\n\r\nexport type HeaderComponentPropsType = HeaderMapStateToPropsType & HeaderMapDispatchToPropsType\r\n\r\nconst mapStateToProps = (state: StateType): HeaderMapStateToPropsType => ({\r\n    // id: state.auth.id,\r\n    // email: state.auth.email,\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps,\r\n    {\r\n        // setAuthUserData,\r\n        // getAuthUserData,\r\n        logout,\r\n    })(HeaderContainer)","export const updateObjectInArray = (items: any[], objPropName: string, userId: number, newObjProps: any) => {\r\n    return items.map(u => u[objPropName] === userId ? {...u, ...newObjProps} : u)\r\n}","import {ActionsTypes} from './redux-store'\r\nimport {usersAPI} from '../api/api';\r\nimport {Dispatch} from 'redux';\r\nimport {updateObjectInArray} from '../utils/object-helpers';\r\n\r\nexport const FOLLOW = 'FOLLOW'\r\nexport const UNFOLLOW = 'UNFOLLOW'\r\nexport const SET_USERS = 'SET-USERS'\r\nexport const SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nexport const SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nexport const TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nexport const TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS'\r\n\r\nexport type UserDataType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    },\r\n    status: string\r\n    followed: boolean\r\n}\r\n\r\nexport type UsersStateType = {\r\n    users: Array<UserDataType>\r\n    pageSize: number\r\n    totalUserCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\n\r\n\r\nconst initialState: UsersStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\n\r\nexport const usersReducer = (state: UsersStateType = initialState, action: ActionsTypes): UsersStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                // users: state.users.map(u => u.id === action.userId ? {...u, followed: true} : u)\r\n                users: updateObjectInArray(state.users,'id', action.userId, {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                // users: state.users.map(u => u.id === action.userId ? {...u, followed: false} : u)\r\n                users: updateObjectInArray(state.users,'id', action.userId, {followed: false})\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUserCount: action.count\r\n            }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId: number) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId // userId: userId\r\n    } as const\r\n}\r\n\r\nexport const unfollowSuccess = (userId: number) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId // userId: userId\r\n    } as const\r\n}\r\n\r\nexport const setUsers = (users: Array<UserDataType>) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    } as const\r\n}\r\n\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        // currentPage: currentPage\r\n        currentPage\r\n    } as const\r\n}\r\n\r\nexport const setTotalUsersCount = (totalUsersCount: number) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        // count: count\r\n        count: totalUsersCount\r\n    } as const\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    } as const\r\n}\r\n\r\nexport const toggleFollowingInProgress = (followingInProgress: boolean, userId: number) => {\r\n    return {\r\n        type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n        followingInProgress,\r\n        userId\r\n    } as const\r\n}\r\n\r\n// export const getUsersThunkCreator = (currentPage: number, pageSize: number) => {\r\nexport const requestUsers = (page: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(setCurrentPage(page))\r\n    dispatch(toggleIsFetching(true))\r\n\r\n    const data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n    dispatch(toggleIsFetching(false))\r\n}\r\n\r\nexport const followUnfollowFlow = async (userId: number, dispatch: Dispatch, apiMethod: Function, actionCreator: Function) => {\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n\r\n    const data = await apiMethod(userId)\r\n    if (+data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n        dispatch(toggleFollowingInProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number) => async (dispatch: Dispatch) => {\r\n    followUnfollowFlow(userId, dispatch, usersAPI.unfollowUser.bind(usersAPI), unfollowSuccess)\r\n}\r\n\r\nexport const follow = (userId: number) => async (dispatch: Dispatch) => {\r\n    followUnfollowFlow(userId, dispatch, usersAPI.followUser.bind(usersAPI), followSuccess)\r\n}\r\n\r\n/*\r\nexport const unfollow = (userId: number) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n\r\n    const data = await usersAPI.unfollowUser(userId)\r\n    if (+data.resultCode === 0) {\r\n        dispatch(unfollowSuccess(userId))\r\n        dispatch(toggleFollowingInProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n\r\n    const data = await usersAPI.followUser(userId)\r\n    if (+data.resultCode === 0) {\r\n        dispatch(followSuccess(userId))\r\n        dispatch(toggleFollowingInProgress(false, userId))\r\n    }\r\n}\r\n*/","import React, {RefObject, useEffect} from 'react';\r\nimport s from './Paginator.module.css';\r\n\r\n\r\ntype PaginatorPropsType = {\r\n    totalUserCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\n// export const Paginator = (props: PaginatorPropsType) => {\r\nexport const Paginator = ({totalUserCount, pageSize, currentPage, onPageChanged}: PaginatorPropsType) => {\r\n    useEffect(() => {\r\n        if (refs[currentPage-1]) {\r\n            const index = currentPage > 5\r\n                ? (refs.length >= currentPage + 5 ? currentPage + 5 : refs.length)\r\n                : currentPage\r\n            const ref = refs[index-1].current\r\n            if (ref) {\r\n                ref.scrollIntoView()\r\n            }\r\n            window.scrollTo(0, 0)\r\n        }\r\n    }, [])\r\n\r\n    const pagesCount = Math.ceil(totalUserCount / pageSize)\r\n    const pages: Array<number> = []\r\n    const refs: Array<RefObject<HTMLDivElement>> = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n        refs.push(React.createRef<HTMLDivElement>())\r\n    }\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            <div className={s.main}>\r\n                {\r\n                    pages.map((p,i) =>\r\n                        <div\r\n                            key={p}\r\n                            ref={refs[i]}\r\n                            className={s.page + ' ' + (currentPage === p ? s.selectedPage : '')}\r\n                            onClick={(event) => onPageChanged(p)}>\r\n                            {` ${p}`}\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport s from './User.module.css'\r\nimport userPhoto from '../assets/images/user.png'\r\nimport {UserDataType} from '../../redux/users-reducer';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype UserPropsType = {\r\n    user: UserDataType\r\n    followingInProgress: number[]\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\nexport const User = (props: UserPropsType) => {\r\n    return (\r\n        <div className={s.user}>\r\n           <span>\r\n               <NavLink to={'/profile/' + props.user.id}>\r\n                   <img\r\n                       className={s.userPhoto}\r\n                       src={props.user.photos.small ? props.user.photos.small : userPhoto}\r\n                       alt={'User_photo'}\r\n                   />\r\n               </NavLink>\r\n               {props.user.photos.large && <img src={props.user.photos.large} alt={'User_photo'}/>}\r\n\r\n               <br/>\r\n               {props.user.followed\r\n                   ? <button\r\n                       disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                       onClick={() => {\r\n                           props.unfollow(props.user.id)\r\n                       }}>Unfollow</button>\r\n                   : <button\r\n                       disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                       onClick={() => {\r\n                           props.follow(props.user.id)\r\n                       }}>Follow</button>\r\n               }\r\n           </span>\r\n\r\n            <span>\r\n                <span>\r\n                    <div>{props.user.name}</div>\r\n                    <div>{props.user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'props.user.location.country'}</div>\r\n                    <div>{'props.user.location.city'}</div>\r\n                    <div>{props.user.id}</div>\r\n                </span>\r\n           </span>\r\n        </div>\r\n    )\r\n}\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport s from './PaginatorLikeDimych.module.css';\r\n\r\n\r\ntype PaginatorPropsType = {\r\n    totalUserCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nconst numOfButtons10 = 10\r\nconst numOfButtons100 = 100\r\n\r\nexport const PaginatorLikeDimych = ({totalUserCount, pageSize, currentPage, onPageChanged}: PaginatorPropsType) => {\r\n    const pagesCount = Math.ceil(totalUserCount / pageSize)\r\n    const buttonsPage = Math.ceil(currentPage / numOfButtons10)\r\n    const startPage = (buttonsPage - 1) * numOfButtons10 + 1\r\n    const lastPage = buttonsPage * numOfButtons10 <= pagesCount\r\n        ? buttonsPage * numOfButtons10\r\n        : pagesCount\r\n    const pages: Array<number> = []\r\n    for (let i = startPage; i <= lastPage; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            <button\r\n                onClick={() => onPageChanged(1)}\r\n                disabled={currentPage === 1}\r\n            >First\r\n            </button>\r\n            <button\r\n                onClick={() => onPageChanged(pages[0] - 100)}\r\n                disabled={pages[0] - numOfButtons100 <= 0}\r\n            >Prev 100\r\n            </button>\r\n            <button\r\n                onClick={() => onPageChanged(pages[0] - 10)}\r\n                disabled={pages[0] - numOfButtons10 <= 0}\r\n            >Prev 10\r\n            </button>\r\n\r\n            <div className={s.main}>\r\n                {\r\n                    pages.map(p =>\r\n                        <div\r\n                            key={p}\r\n                            className={s.page + ' ' + (currentPage === p ? s.selectedPage : '')}\r\n                            onClick={(event) => onPageChanged(p)}>\r\n                            {` ${p}`}\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n\r\n            <button\r\n                onClick={() => onPageChanged(pages[0] + 10)}\r\n                disabled={pages[0] + numOfButtons10 > pagesCount}\r\n            >Next 10\r\n            </button>\r\n            <button\r\n                onClick={() => onPageChanged(pages[0] + 100)}\r\n                disabled={pages[0] + numOfButtons100 > pagesCount}\r\n            >Next 100\r\n            </button>\r\n            <button\r\n                onClick={() => onPageChanged(pagesCount)}\r\n                disabled={currentPage === pagesCount}\r\n            >Last\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {UserDataType} from '../../redux/users-reducer';\r\nimport {Paginator} from '../common/Paginator/Paginator';\r\nimport {User} from './User';\r\nimport {PaginatorLikeDimych} from '../common/Paginator/PaginatorLikeDimych';\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UserDataType>\r\n    pageSize: number\r\n    totalUserCount: number\r\n    currentPage: number\r\n    followingInProgress: number[]\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Users = (props: UsersPropsType) => {\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                totalUserCount={props.totalUserCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentPage}\r\n                onPageChanged={props.onPageChanged}\r\n            />\r\n\r\n            <PaginatorLikeDimych\r\n                totalUserCount={props.totalUserCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentPage}\r\n                onPageChanged={props.onPageChanged}\r\n            />\r\n\r\n\r\n            {props.users.map(u => <User\r\n                key={u.id}\r\n                user={u}\r\n                followingInProgress={props.followingInProgress}\r\n                follow={props.follow}\r\n                unfollow={props.unfollow}/>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import {StateType} from './redux-store';\r\nimport {createSelector} from 'reselect';\r\n\r\n\r\nexport const getUsersSelector = (state: StateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\n\r\nexport const getPageSize = (state: StateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUserCount = (state: StateType) => {\r\n    return state.usersPage.totalUserCount\r\n}\r\n\r\nexport const getCurrentPage = (state: StateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: StateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: StateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import {connect} from 'react-redux';\r\nimport {\r\n    follow, requestUsers,\r\n    unfollow,\r\n    UsersStateType,\r\n} from '../../redux/users-reducer';\r\nimport {StateType} from '../../redux/redux-store';\r\nimport React, {ComponentType} from 'react';\r\nimport {Users} from './Users';\r\nimport {Preloader} from '../common/Preloader/Preloader';\r\nimport {compose} from 'redux';\r\nimport {\r\n    getPageSize,\r\n    getTotalUserCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgress, getUsers\r\n} from '../../redux/users-selectors';\r\n\r\n\r\n//==================================================================================================================\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersComponentPropsType> {\r\n    componentDidMount() {\r\n        const {users, getUsers, currentPage, pageSize} = this.props\r\n        if (users.length === 0) {\r\n            getUsers(currentPage, pageSize)\r\n        }\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {getUsers, pageSize} = this.props\r\n        getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching && <Preloader/>}\r\n\r\n                <Users\r\n                    totalUserCount={this.props.totalUserCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n//==================================================================================================================\r\n\r\n\r\n// type UsersMapStateToPropsType = {\r\n//     users: Array<UserDataType>\r\n//     pageSize: number\r\n//     totalUserCount: number\r\n//     currentPage: number\r\n// }\r\ntype UsersMapStateToPropsType = UsersStateType\r\n\r\n// type UsersMapDispatchToProps = {\r\n//     follow: (userId: number) => void\r\n//     unfollow: (userId: number) => void\r\n//     setUsers: (users: Array<UserDataType>) => void\r\n//     setCurrentPage: (pageNumber: number) => void\r\n//     setTotalUsersCount: (totalCount: number) => void\r\n//     toggleIsFetching: (isFetching: boolean) => void\r\n// }\r\ntype UsersMapDispatchToProps = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersComponentPropsType = UsersMapStateToPropsType & UsersMapDispatchToProps\r\n\r\n/*\r\nconst mapStateToProps = (state: StateType): UsersMapStateToPropsType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUserCount: state.usersPage.totalUserCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    }\r\n}\r\n*/\r\n\r\nconst mapStateToProps = (state: StateType): UsersMapStateToPropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUserCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\n\r\n// const mapDispatchToProps = (dispatch: DispatchType): UsersMapDispatchToProps => {\r\n//     return {\r\n//         follow: (userId: number) => dispatch(followAC(userId)),\r\n//         unfollow: (userId: number) => dispatch(unfollowAC(userId)),\r\n//         setUsers: (users: Array<UserDataType>) => dispatch(setUsersAC(users)),\r\n//         setCurrentPage: (pageNumber: number) => dispatch(setCurrentPageAC(pageNumber)),\r\n//         setTotalUsersCount: (totalCount: number) => dispatch(setTotalUsersCountAC(totalCount)),\r\n//         toggleIsFetching: (isFetching: boolean) => dispatch(toggleIsFetchingAC(isFetching)),\r\n//     }\r\n// }\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(UsersComponent)\r\n\r\n/*\r\nexport default connect(mapStateToProps,\r\n    {\r\n        follow,\r\n        unfollow,\r\n        // getUsers: getUsersThunkCreator,\r\n        getUsers,\r\n    })(UsersContainer)\r\n*/\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {follow, unfollow, getUsers: requestUsers,}),\r\n    // withAuthRedirect\r\n)(UsersContainer)\r\n","import React from 'react';\r\nimport s from './Login.module.css'\r\nimport s2 from '../common/FormsControl/FormsControl.module.css'\r\nimport {reduxForm, InjectedFormProps} from 'redux-form';\r\nimport {createField, Input} from '../common/FormsControl/FormsControl';\r\nimport {required} from '../../utils/validators/validator';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {StateType} from '../../redux/redux-store';\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n                {/*<Field component={Input} name={'email'} placeholder={'Email'} validate={required}/>*/}\r\n                {createField(Input,'email','Email',[required])}\r\n\r\n                {/*<Field component={Input} name={'password'} placeholder={'Password'} type={'password'} validate={required}/>*/}\r\n                {createField(Input,'password','Password',[required], {type:'password'})}\r\n\r\n                {/*<Field component={Input} type={'checkbox'} name={'rememberMe'}/> Remember me*/}\r\n                {createField(Input,'rememberMe','',[], {type:'checkbox'},'Remember me')}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n\r\n            {props.error &&\r\n            <div className={s2.formSummaryError}>\r\n                {props.error}\r\n            </div>}\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\n\r\nconst Login = (props: PropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        // console.log(formData)\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n            <div style={{display: 'inline-block', border: '2px solid yellow', padding: '5px', margin: '10px 0'}}>\r\n                <b>Тестовые Email и Password</b>\r\n                <br/>Email: <b>free@samuraijs.com</b>\r\n                <br/>Password: <b>free</b>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n//==============================================================================\r\n\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToProps = (state: StateType): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\ntype MapDispatchToPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import {ActionsTypes} from './redux-store';\r\n\r\n\r\nconst initialState = {\r\n    friends: [2, 4, 3] as Array<number>\r\n}\r\n\r\nexport type SidebarStateType = typeof initialState\r\n\r\n\r\nexport const sidebarReducer = (state: SidebarStateType = initialState, action: ActionsTypes): SidebarStateType => {\r\n\r\n    return state\r\n}","import {ActionsTypes, StateType} from './redux-store';\r\nimport {Dispatch} from 'redux';\r\nimport {getAuthUserData} from './auth-reducer';\r\nimport {ThunkAction} from 'redux-thunk';\r\n\r\nexport const INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nexport type AppStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst initialState: AppStateType = {\r\n    initialized: false,\r\n}\r\n\r\n\r\nexport const appReducer = (state: AppStateType = initialState, action: ActionsTypes): AppStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS,\r\n    } as const\r\n}\r\n\r\nexport const initializeApp = (): ThunkAction<void, StateType, unknown, ActionsTypes> => (dispatch) => {\r\n    const promise = dispatch(getAuthUserData())\r\n    // dispatch(somethingElse())\r\n    // dispatch(somethingElse())\r\n    // promise.then(()=>{\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n}","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {addPost, profileReducer, setUserProfile, setStatus, deletePost, savePhotoSuccess} from './profile-reducer';\r\nimport {dialogsReducer, sendMessage} from './dialogs-reducer';\r\nimport {sidebarReducer} from './sidebar-reducer';\r\nimport {\r\n    followSuccess,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setUsers, toggleFollowingInProgress,\r\n    toggleIsFetching,\r\n    unfollowSuccess,\r\n    usersReducer\r\n} from './users-reducer';\r\nimport {authReducer, setAuthUserData} from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport {appReducer, initializedSuccess} from './app-reducer';\r\n\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app:appReducer,\r\n})\r\n\r\nexport let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\n//============================================================================\r\n\r\nexport type StateType = ReturnType<typeof reducers>\r\n\r\nexport type ActionsTypes =\r\n    ReturnType<typeof addPost> |\r\n    ReturnType<typeof deletePost> |\r\n    // ReturnType<typeof updateNewPostText> |\r\n    ReturnType<typeof sendMessage> |\r\n    // ReturnType<typeof updateNewMessageBody> |\r\n    ReturnType<typeof followSuccess> |\r\n    ReturnType<typeof unfollowSuccess> |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setTotalUsersCount> |\r\n    ReturnType<typeof toggleIsFetching> |\r\n    ReturnType<typeof setUserProfile> |\r\n    ReturnType<typeof savePhotoSuccess> |\r\n    ReturnType<typeof setStatus> |\r\n\r\n    ReturnType<typeof setAuthUserData> |\r\n    ReturnType<typeof toggleFollowingInProgress> |\r\n\r\n    ReturnType<typeof initializedSuccess>\r\n\r\n\r\nexport type DispatchType = (action: ActionsTypes) => void\r\n\r\n\r\n//==============================================================\r\n//==============================================================\r\n//==============================================================\r\ndeclare global {\r\n    interface Window {\r\n        // add you custom properties and methods\r\n        store: typeof store\r\n    }\r\n}\r\nwindow.store = store\r\n//==============================================================\r\n//==============================================================\r\n//==============================================================\r\n","import React, {ComponentType, Suspense} from 'react';\r\n\r\nexport function withSuspense(Component: ComponentType) {\r\n    return (props: any) => {\r\n        return (\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <Component {...props}/>\r\n            </Suspense>\r\n        )\r\n    }\r\n}","import React, {ComponentType, Suspense} from 'react';\nimport './App.css';\nimport {News} from './components/News/News';\nimport {Music} from './components/Music/Music';\nimport {Settings} from './components/Settings/Settings';\nimport {HashRouter, Route, withRouter} from 'react-router-dom';\nimport {NavbarContainer} from './components/Navbar/NavbarContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\n// import ProfileContainer from './components/Profile/ProfileContainer';\nimport UsersContainer from './components/Users/UsersContainer';\n// import {DialogsContainer} from './components/Dialogs/DialogsContainer';\nimport Login from './components/Login/Login';\nimport {connect, Provider} from 'react-redux';\nimport {compose} from 'redux';\nimport {StateType, store} from './redux/redux-store';\nimport {initializeApp} from './redux/app-reducer';\nimport {Preloader} from './components/common/Preloader/Preloader';\nimport {withSuspense} from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nclass App extends React.Component<AppPropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <NavbarContainer/>\n\n                <div className='app-wrapper-content'>\n\n                    {/*<Route path='/dialogs' render={() => <DialogsContainer/>}/>*/}\n{/*\n                    <Route path='/dialogs' render={() => {\n                        return <Suspense fallback={<div>Loading...</div>}>\n                            <DialogsContainer/>\n                        </Suspense>\n                    }}/>\n*/}\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n\n\n                    {/*<Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>*/}\n{/*\n                    <Route path='/profile/:userId?' render={() => {\n                        return <Suspense fallback={<div>Loading...</div>}>\n                            <ProfileContainer/>\n                        </Suspense>\n                    }}/>\n*/}\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n\n\n\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n\n                    <Route path='/login' render={() => <Login/>}/>\n                </div>\n            </div>\n        )\n    }\n}\n\ntype AppMapStateToPropsType = {\n    initialized: boolean\n}\n\ntype AppMapDispatchToPropsType = {\n    initializeApp: () => void\n}\n\ntype AppPropsType = AppMapStateToPropsType & AppMapDispatchToPropsType\n\nconst mapStateToProps = (state: StateType): AppMapStateToPropsType => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = compose<ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App)\n\nconst AppSamuraiJS = () => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default AppSamuraiJS","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport {HashRouter} from 'react-router-dom';\nimport {store} from './redux/redux-store';\nimport {Provider} from 'react-redux';\nimport App from './App';\nimport AppSamuraiJS from './App';\n\nReactDOM.render(<AppSamuraiJS/>, document.getElementById('root'));\n\n/*\nReactDOM.render(\n    // из-за этого пользователи отрисовываются 2 раза (урок 49)\n    // <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>,\n    // </React.StrictMode>,\n    document.getElementById('root')\n);\n*/\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from 'react';\r\nimport s from './FormsControl.module.css'\r\nimport {Field} from 'redux-form';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, ...props}: any) => {\r\n    // const hasError = meta.touched && meta.error\r\n    const hasError = touched && error\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {/*{hasError && <span> {meta.error} </span>}*/}\r\n            {hasError && <span> {error} </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea = (props: any) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n\r\nexport const Input = (props: any) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (component: (props: any) => JSX.Element, name: string, placeholder: string, validate: Function[], props: any = {}, text: string = '') => (\r\n    <div>\r\n        <Field component={component} name={name} placeholder={placeholder} validate={validate} {...props}/> {text}\r\n    </div>\r\n)\r\n\r\n/*\r\n\r\n\r\nimport React from 'react';\r\nimport s from './FormsControl.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span> {meta.error} </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Input = ({input, meta, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span> {meta.error} </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__1KheJ\",\"error\":\"FormsControl_error__2hYHC\",\"formSummaryError\":\"FormsControl_formSummaryError__3b6eR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1nGfk\",\"main\":\"Paginator_main__2_4Xr\",\"page\":\"Paginator_page__2KNca\",\"selectedPage\":\"Paginator_selectedPage__1yOoS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"PaginatorLikeDimych_paginator__2Qq0g\",\"main\":\"PaginatorLikeDimych_main__2Lszc\",\"page\":\"PaginatorLikeDimych_page__2fW_M\",\"selectedPage\":\"PaginatorLikeDimych_selectedPage__1BftW\"};","export default __webpack_public_path__ + \"static/media/preloader.8debf21c.gif\";","import React from 'react';\r\nimport s from './Preloader.module.css'\r\nimport preloader from '../../assets/images/preloader.gif'\r\n\r\ntype PreloaderPropsType = {}\r\n\r\nexport const Preloader = (props: PreloaderPropsType) => {\r\n    return (\r\n        <div className={s.preloaderBlock}>\r\n            <img\r\n                className={s.preloader}\r\n                src={preloader}\r\n                alt={'Loading data...'}\r\n            />\r\n        </div>\r\n    )\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2tkSJ\",\"loginBlock\":\"Header_loginBlock__3F9Ut\"};","export const required = (value: any) => {\r\n    // return NO error\r\n    if (value) return undefined\r\n\r\n    // return Error message\r\n    return 'Field is required field!'\r\n}\r\n\r\n/*\r\nexport const maxLength30 = (value: any) => {\r\n    // return Error message\r\n    if (value.length > 30) return 'Max length is 30 symbols'\r\n    // if (value && value.length > 30 ) return 'Max length is 30 symbols'\r\n\r\n    // return NO error\r\n    return undefined\r\n}\r\n*/\r\n\r\nexport const maxLengthCreator = (maxLength: number) => {\r\n    return (value: any) => {\r\n        if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\r\n        return undefined\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__TkJyC\",\"userPhoto\":\"User_userPhoto__2cEjF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderBlock\":\"Preloader_preloaderBlock__2xxWU\",\"preloader\":\"Preloader_preloader__3Xwe9\"};","import {Dispatch} from 'redux';\r\nimport {ActionsTypes, StateType} from './redux-store';\r\nimport {PhotoData, profileAPI, usersAPI} from '../api/api';\r\nimport {ProfileDataFormType} from '../components/Profile/ProfileInfo/ProfileDataForm';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nexport const ADD_POST = 'ADD-POST'\r\nexport const DELETE_POST = 'DELETE-POST'\r\n// export const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\n\r\nexport const SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nexport const SET_STATUS = 'SET_STATUS'\r\n\r\nexport const SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nexport type ContactType = {\r\n    [key: string]: string\r\n}\r\n\r\nexport type ProfileDataType = {\r\n    aboutMe: string\r\n    contacts: {\r\n        facebook: string\r\n        website: string\r\n        vk: string\r\n        twitter: string\r\n        instagram: string\r\n        youtube: string\r\n        github: string\r\n        mainLink: string\r\n    }\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n}\r\n\r\nexport type PostsDataType = {\r\n    message: string\r\n    likesCount: number\r\n    id: number\r\n}\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 15},\r\n        {id: 2, message: 'It\\'s my first post!', likesCount: 20},\r\n        {id: 3, message: 'Blabla', likesCount: 777},\r\n        {id: 4, message: 'Dada', likesCount: 777},\r\n        {id: 5, message: 'Yo, yo, yo!!!', likesCount: 777}\r\n    ] as Array<PostsDataType>,\r\n    // newPostText: 'Hello, world!',\r\n    profile: {} as ProfileDataType,\r\n    status: '',\r\n}\r\nexport type ProfileStateType = typeof initialState\r\n\r\n\r\nexport const profileReducer = (state: ProfileStateType = initialState, action: ActionsTypes): ProfileStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost: PostsDataType = {\r\n                // id: state.posts[state.posts.length-1].id + 1,\r\n                id: 6,\r\n                // message: state.newPostText,\r\n                message: action.postText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts],\r\n                // newPostText: ''\r\n            }\r\n\r\n        case 'DELETE-POST':\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            console.log(action.photos)\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos.photos},\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (postText: string) => ({type: ADD_POST, postText,} as const)\r\nexport const deletePost = (postId: number) => ({type: DELETE_POST, postId,} as const)\r\nexport const setUserProfile = (profile: ProfileDataType) => ({type: SET_USER_PROFILE, profile} as const)\r\nexport const savePhotoSuccess = (photos: PhotoData) => ({type: SAVE_PHOTO_SUCCESS, photos} as const)\r\n\r\n\r\nexport const getUserProfile = (userId: string) => async (dispatch: Dispatch) => {\r\n    const data = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(data))\r\n}\r\n\r\n\r\nexport const getStatus = (userId: string) => async (dispatch: Dispatch) => {\r\n    const data = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(data))\r\n}\r\n\r\nexport const setStatus = (status: string) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    } as const\r\n}\r\n\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    const data = await profileAPI.updateStatus(status)\r\n    if (+data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (image: File) => async (dispatch: Dispatch) => {\r\n    const data = await profileAPI.savePhoto(image)\r\n    if (+data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(data.data))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (formData: ProfileDataFormType) => async (dispatch: Dispatch<any>, getState: () => StateType) => {\r\n    const data = await profileAPI.saveProfile(formData)\r\n    if (+data.resultCode === 0) {\r\n        const userId = getState().auth.id\r\n        dispatch(getUserProfile(userId))\r\n    } else {\r\n        const message = data.messages ? data.messages[0] : 'Some error!'\r\n        // dispatch(stopSubmit('edit-profile', {_error: message}))\r\n\r\n        /*\r\n                const errorPrefix = 'Invalid url format (Contacts->'\r\n                if (message.indexOf(errorPrefix) >= 0) {\r\n                    let fieldName = message.substr(errorPrefix.length)\r\n                    fieldName = fieldName.substring(0, fieldName.indexOf(')'))\r\n                    fieldName = fieldName[0].toLowerCase() + fieldName.substring(1)\r\n                    // console.log('_', fieldName, '_')\r\n                    dispatch(stopSubmit('edit-profile', {'contacts': {[fieldName]: message}}))\r\n                } else {\r\n                    dispatch(stopSubmit('edit-profile', {_error: message}))\r\n                }\r\n        */\r\n\r\n        const errorText = message.split('->')\r\n        if (errorText[1]) {\r\n            let fieldName = errorText[1][0].toLowerCase() + errorText[1].substr(1, errorText[1].length-2)\r\n            dispatch(stopSubmit('edit-profile', {'contacts': {[fieldName]: message}}))\r\n            return Promise.reject(message)\r\n        } else {\r\n            dispatch(stopSubmit('edit-profile', {_error: message}))\r\n            return Promise.reject(message)\r\n        }\r\n    }\r\n}"],"sourceRoot":""}